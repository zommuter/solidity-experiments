// SPDX-License-Identifier: MIT
pragma solidity ^0.8.18;

contract Create3ProxyChild {
  /**  from https://github.com/0xsequence/create3/blob/master/contracts/Create3.sol
    Let's see if we can get sufficiently similar code...
    @notice The bytecode for a contract that proxies the creation of another contract
    @dev If this code is deployed using CREATE2 it can be used to decouple `creationCode` from the child contract address

  0x67363d3d37363d34f03d5260086018f3:
      0x00  0x67  0x67XXXXXXXXXXXXXXXX  PUSH8 bytecode  0x363d3d37363d34f0
      0x01  0x3d  0x3d                  RETURNDATASIZE  0 0x363d3d37363d34f0
      0x02  0x52  0x52                  MSTORE
      0x03  0x60  0x6008                PUSH1 08        8
      0x04  0x60  0x6018                PUSH1 18        24 8
      0x05  0xf3  0xf3                  RETURN

  0x363d3d37363d34f0:
      0x00  0x36  0x36                  CALLDATASIZE    cds
      0x01  0x3d  0x3d                  RETURNDATASIZE  0 cds
      0x02  0x3d  0x3d                  RETURNDATASIZE  0 0 cds
      0x03  0x37  0x37                  CALLDATACOPY
      0x04  0x36  0x36                  CALLDATASIZE    cds
      0x05  0x3d  0x3d                  RETURNDATASIZE  0 cds
      0x06  0x34  0x34                  CALLVALUE       val 0 cds
      0x07  0xf0  0xf0                  CREATE          addr
  */

    function create(bytes memory _creationCode) external payable returns (address) {
        address addr;
        assembly {
            addr := create(callvalue(), add(_creationCode, 0x20), mload(_creationCode))
        }
        return addr;
    }
}

// bytecode:
// 608060405234801561001057600080fd5b5061029e806100206000396000f3fe60806040526004361061001e5760003560e01c8063cf5ba53f14610023575b600080fd5b61003d600480360381019061003891906101c3565b610053565b60405161004a919061024d565b60405180910390f35b60008082516020840134f0905080915050919050565b6000604051905090565b600080fd5b600080fd5b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6100d082610087565b810181811067ffffffffffffffff821117156100ef576100ee610098565b5b80604052505050565b6000610102610069565b905061010e82826100c7565b919050565b600067ffffffffffffffff82111561012e5761012d610098565b5b61013782610087565b9050602081019050919050565b82818337600083830152505050565b600061016661016184610113565b6100f8565b90508281526020810184848401111561018257610181610082565b5b61018d848285610144565b509392505050565b600082601f8301126101aa576101a961007d565b5b81356101ba848260208601610153565b91505092915050565b6000602082840312156101d9576101d8610073565b5b600082013567ffffffffffffffff8111156101f7576101f6610078565b5b61020384828501610195565b91505092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006102378261020c565b9050919050565b6102478161022c565b82525050565b6000602082019050610262600083018461023e565b9291505056fea26469706673582212207aa5859b7befc470531ff75150a2ec791f4c3553f382618467f4680e1ca456e864736f6c63430008120033